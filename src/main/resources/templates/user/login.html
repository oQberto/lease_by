<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="shortcut icon" th:href="@{/image/content/logo/logo-title.webp}" type="image/x-icon">
    <link rel="stylesheet" th:href="@{/css/header.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/footer.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/login.css}" type="text/css">
</head>
<body>
<div th:insert="~{fragment::header}"></div>

<div class="wrapper">
    <div class="form-box login">
        <div class="error" th:if="${param.error}">
            Bad credentials
        </div>
        <h2>Login</h2>
        <form th:action="@{/login}" method="post" th:object="${user}">
            <div class="input-box">
                <span class="icon"><img th:src="@{/image/content/icon/email.webp}" alt="mail"></span>
                <input type="email" name="email" id="email_log" required>
                <label for="email_log">Email</label>
            </div>
            <div class="input-box">
                <span class="icon"><img th:src="@{/image/content/icon/padlock.webp}" alt="password"></span>
                <input type="password" name="password" id="password_log" required>
                <label for="password_log">Password</label>
            </div>
            <div class="remember-forgot">
                <label><input type="checkbox">Remember me</label>
                <a href="#">Forgot Password?</a>
            </div>
            <button type="submit" class="btn">Login</button>
            <div class="login-register">
                <p>Don't have an account?
                    <a href="#" class="register-link">Register</a>
                </p>
            </div>
        </form>
        <div class="google">Login with:
            <a href="/oauth2/authorization/google">Google</a>
        </div>
    </div>

    <div class="form-box register">
        <h2>Registration</h2>
        <form th:action="@{/accounts/register}" method="post" th:object="${user}">
            <div class="input-box">
                <span class="icon"><img th:src="@{/image/content/icon/user.webp}" alt="user"></span>
                <input type="text" name="username" id="username" required>
                <label for="username">Username</label>
            </div>
            <div class="input-box">
                <span class="icon"><img th:src="@{/image/content/icon/email.webp}" alt="email"></span>
                <input type="email" name="email" id="email_reg" required>
                <label for="email_reg">Email</label>
            </div>
            <div class="input-box">
                <span class="icon"><img th:src="@{/image/content/icon/padlock.webp}" alt="password"></span>
                <input type="password" name="password" id="password_reg" required>
                <label for="password_reg">Password</label>
            </div>
            <input id="role" type="hidden" name="role" th:value="'USER'">
            <div class="remember-forgot">
                <label><input type="checkbox" required>I agree to the terms & conditions</label>
            </div>
            <button type="submit" class="btn">Register</button>
            <div class="login-register">
                <p>Already have an account? <a href="#" class="login-link">Login</a></p>
            </div>
        </form>
    </div>
</div>

<div th:insert="~{fragment::footer}"></div>

<script th:src="@{/js/script.js}"></script>
</body>
</html>